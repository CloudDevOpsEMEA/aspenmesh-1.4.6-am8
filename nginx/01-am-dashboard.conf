upstream aspenmesh-controlplane {
    server 10.1.1.5:30001;
    server 10.1.1.6:30001;
    server 10.1.1.7:30001;
    server 10.1.1.8:30001;
}

server {
    listen  30001    ssl;

    access_log              /var/log/nginx/aspenmesh-controlplane.access.log;
    error_log               /var/log/nginx/aspenmesh-controlplane.error.log;
    
    ssl_certificate         /home/ubuntu/aspen-demo-wildcard-cert.pem;
    ssl_certificate_key     /home/ubuntu/aspen-demo-private-key.pem;

    location / {
        proxy_pass http://aspenmesh-controlplane;
    }
}
